{% extends 'baseEmployeFront.html.twig' %}

{% block title %}Pending Renewals{% endblock %}

{% block body %}
    <div class="container py-5">
        <h2 class="mb-4">Permis en attente de renouvellement</h2>

        <div class="row">
            {% for permi in pendingPermis %}
                <div class="col-md-6">
                   <a href="{{ path('app_show_permisOne', {'numeroPermis': permi.numeroPermis}) }}" class="text-decoration-none text-dark">
    <div class="card mb-4 shadow-sm border-primary" style="background-color: #e6f0ff;">
        <div class="card-body text-center">
            <div class="license-card-large mx-auto">
                <div class="license-header bg-primary text-white py-2 rounded-top">
                    <h6 class="mb-0">PERMIS DE CONDUIRE</h6>
                </div>
                <div class="license-body py-3">
                    <div class="license-number mb-3">N° {{ permi.numeroPermis }}</div>
                    <div class="license-category mb-2">
                        <span class="badge bg-primary">Catégorie {{ permi.categorie }}</span>
                    </div>
                    <div class="license-dates small">
                        <div>Délivré le: {{ permi.dateDelivrance ? permi.dateDelivrance|date('d/m/Y') : 'N/A' }}</div>
                        <div>Expire le: {{ permi.dateExpiration ? permi.dateExpiration|date('d/m/Y') : 'N/A' }}</div>
                    </div>
                    <div class="license-status mt-3">
                        <span class="badge bg-{{ permi.isRenewal ? 'warning' : (permi.etat == 'Active' ? 'success' : 'danger') }} px-3 py-2">
                            {% if permi.isRenewal %}
                                En attente de renouvellement
                            {% else %}
                                {{ permi.etat }}
                            {% endif %}
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</a>

                </div>
            {% else %}
                <div class="col-12">
                    <p class="text-muted">Aucune demande de renouvellement en attente.</p>
                </div>
            {% endfor %}
        </div>
    </div>
{% endblock %}
